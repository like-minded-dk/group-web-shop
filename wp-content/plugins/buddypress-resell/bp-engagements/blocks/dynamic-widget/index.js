!function(){"use strict";var e=window.wp.i18n,t=window.bp.dynamicWidgetBlock;class s extends t.dynamicWidgetBlock{loop(t=[],s="",r="active"){const i=super.useTemplate("bp-engagements-item"),n=document.querySelector("#"+s);let d="";t&&t.length?t.forEach((t=>{if("active"===r&&t.last_activity)
/* translators: %s: last activity timestamp (e.g. "Active 1 hour ago") */
t.extra=(0,e.sprintf)((0,e.__)("Active %s","buddypress"),t.last_activity.timediff);else if("popular"===r&&t.total_engagement_count){const s=parseInt(t.total_engagement_count,10);t.extra=0===s?(0,e.__)("No engagements","buddypress"):1===s?(0,e.__)("1 engagement","buddypress"):(0,e.sprintf)(/* translators: %s: total engagement count (more than 1). */
(0,e.__)("%s engagements","buddypress"),t.total_engagement_count)}else"newest"===r&&t.registered_since&&(
/* translators: %s is time elapsed since the registration date happened */
t.extra=(0,e.sprintf)((0,e.__)("Registered %s","buddypress"),t.registered_since))
/* translators: %s: member name */;t.avatar_alt=(0,e.sprintf)((0,e.__)("Profile picture of %s","buddypress"),t.name),d+=i(t)})):d='<div class="widget-error">'+(0,e.__)("Sorry, no members were found.","buddypress")+"</div>",n.innerHTML=d}start(){this.blocks.forEach(((e,t)=>{const{selector:s}=e,{type:r}=e.query_args,i=document.querySelector("#"+s).closest(".bp-dynamic-block-container");super.getItems(r,t),i.querySelectorAll(".item-options a").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),e.target.closest(".item-options").querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected");const s=e.target.getAttribute("data-bp-sort");s!==this.blocks[t].query_args.type&&super.getItems(s,t)}))}))}))}}const r=new s(window.bpengagementsSettings||{},window.bpengagementsBlocks||{});"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r.start()):r.start()}();
